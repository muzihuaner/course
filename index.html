<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¿«ç‚¹è¯¾ç¨‹ - å‘ç°ä¼˜è´¨åœ¨çº¿æ•™è‚²èµ„æº</title>
    <meta content="å¿«ç‚¹è¯¾ç¨‹,å…¬å¼€è¯¾,ç½‘è¯¾,åœ¨çº¿æ•™è‚²,æ•™è‚²,æ…•è¯¾,TED,çºªå½•ç‰‡" name="keywords">
    <meta name="referrer" content="no-referrer" />
    <meta name="description" content="å‘ç°å…¨çƒä¼˜è´¨åœ¨çº¿è¯¾ç¨‹ï¼Œå¼€å¯æ‚¨çš„å­¦ä¹ ä¹‹æ—…">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <link rel="shortcut icon" type="image/x-icon" href="g">
    <link rel="stylesheet" href="css/course.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>
    <nav class="nav">
        <div class="nav-container">
            <div class="nav-logo">
                <a href="/">
                    <span class="logo-text">å¿«ç‚¹è¯¾ç¨‹</span>
                </a>
            </div>
            <div class="nav-menu">
                <a href="#courses" class="nav-link">è¯¾ç¨‹</a>
                <a href="#categories" class="nav-link">åˆ†ç±»</a>
                <a href="#about" class="nav-link">å…³äº</a>
            </div>
        </div>
    </nav>

    <main>
        <section class="hero">
            <div class="hero-content">
                <h1 class="hero-title">å‘ç°ä¼˜è´¨åœ¨çº¿æ•™è‚²èµ„æº</h1>
                <p class="hero-subtitle">æ¢ç´¢å…¨çƒé¡¶å°–å¤§å­¦å’Œæœºæ„çš„é«˜è´¨é‡è¯¾ç¨‹</p>
                <div class="hero-cta">
                    <button class="btn btn-primary" onclick="scrollToCourses()">å¼€å§‹æ¢ç´¢</button>
                </div>
            </div>
            <div class="hero-visual">
                <div class="hero-card">
                    <div class="card-content">
                        <div class="card-icon">ğŸ“š</div>
                        <h3>ç²¾é€‰è¯¾ç¨‹</h3>
                        <p>æ¥è‡ªå…¨çƒçŸ¥åé™¢æ ¡çš„ä¼˜è´¨è¯¾ç¨‹</p>
                    </div>
                </div>
            </div>
        </section>
        <section id="courses" class="courses-section">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">ç²¾é€‰è¯¾ç¨‹</h2>
                    <p class="section-subtitle">æ¢ç´¢æ¥è‡ªå…¨çƒé¡¶å°–é™¢æ ¡çš„ä¼˜è´¨è¯¾ç¨‹</p>
                </div>

                <div id="categories" class="categories">
                    <div class="category-chips">
                        <button class="chip active" data-code="">å…¨éƒ¨</button>
                        <button class="chip" data-code="1">è®¡ç®—æœº</button>
                        <button class="chip" data-code="2">ç»æµç®¡ç†</button>
                        <button class="chip" data-code="3">å¿ƒç†å­¦</button>
                        <button class="chip" data-code="4">å¤–è¯­</button>
                        <button class="chip" data-code="5">æ–‡å­¦å†å²</button>
                        <button class="chip" data-code="6">è‰ºæœ¯è®¾è®¡</button>
                        <button class="chip" data-code="7">å·¥å­¦</button>
                        <button class="chip" data-code="8">ç†å­¦</button>
                        <button class="chip" data-code="9">åŒ»è¯å«ç”Ÿ</button>
                        <button class="chip" data-code="16">å†œæ—å›­è‰º</button>
                        <button class="chip" data-code="10">å“²å­¦</button>
                        <button class="chip" data-code="11">æ³•å­¦</button>
                        <button class="chip" data-code="12">æ€æƒ³æ”¿æ²»æ•™è‚²</button>
                        <button class="chip" data-code="13">æ•™è‚²æ•™å­¦</button>
                        <button class="chip" data-code="100">å¤§å­¦å…ˆä¿®è¯¾</button>
                        <button class="chip" data-code="200">èŒä¸šæ•™è‚²</button>
                        <button class="chip" data-code="300">åˆ›æ–°åˆ›ä¸š</button>
                    </div>
                </div>

                <div id="courseList" class="course-grid"></div>

                <div class="load-more-container">
                    <button class="btn btn-secondary" id="showMoreBtn" data-page="1">
                        <span class="btn-text">åŠ è½½æ›´å¤š</span>
                        <div class="loading-spinner"></div>
                    </button>
                </div>

                <script>
                    const courseList = document.querySelector('#courseList');
                    const showMoreBtn = document.querySelector('#showMoreBtn');
                    let currentPage = 1;
                    let currentCategory = '';
                    let isLoading = false;

                    // å¹³æ»‘æ»šåŠ¨åˆ°è¯¾ç¨‹åŒºåŸŸ
                    function scrollToCourses() {
                        document.getElementById('courses').scrollIntoView({ behavior: 'smooth' });
                    }

                    // å›åˆ°é¡¶éƒ¨
                    function scrollToTop() {
                        window.scrollTo({ top: 0, behavior: 'smooth' });
                    }

                    // æ˜¾ç¤º/éšè—å›åˆ°é¡¶éƒ¨æŒ‰é’®
                    window.addEventListener('scroll', () => {
                        const backToTop = document.getElementById('backToTop');
                        if (window.scrollY > 300) {
                            backToTop.classList.add('visible');
                        } else {
                            backToTop.classList.remove('visible');
                        }
                    });

                    // æ›´æ–°åˆ†ç±»æ¿€æ´»çŠ¶æ€
                    function updateActiveChip(selectedChip) {
                        document.querySelectorAll('.chip').forEach(chip => {
                            chip.classList.remove('active');
                        });
                        selectedChip.classList.add('active');
                    }

                    // æ ¹æ®åˆ†ç±»ä»£ç è·å–è¯¾ç¨‹åˆ—è¡¨
                    function getCoursesByCategory(category, targetElement = null) {
                        if (targetElement) {
                            updateActiveChip(targetElement);
                        }
                        currentCategory = category;
                        currentPage = 1;
                        loadCourses();
                    }

                    // åŠ è½½è¯¾ç¨‹åˆ—è¡¨
                    function loadCourses() {
                        if (isLoading) return;

                        isLoading = true;
                        showMoreBtn.classList.add('loading');

                        const xhr = new XMLHttpRequest();
                        xhr.open('GET', `https://www.icourses.cn/web/sword/portal/openSearchPage?kw=&onlineStatus=1&currentPage=${currentPage}&catagoryId=${currentCategory}`);
                        xhr.onload = () => {
                            const htmlContent = xhr.responseText;

                            // æ·»åŠ æ·¡å…¥åŠ¨ç”»
                            if (currentPage === 1) {
                                courseList.innerHTML = htmlContent;
                                courseList.style.opacity = '0';
                                setTimeout(() => {
                                    courseList.style.opacity = '1';
                                }, 50);
                            } else {
                                courseList.insertAdjacentHTML('beforeend', htmlContent);
                            }

                            if (currentPage >= 10) {
                                showMoreBtn.style.display = 'none';
                            } else {
                                showMoreBtn.style.display = 'block';
                            }
                            currentPage++;

                            isLoading = false;
                            showMoreBtn.classList.remove('loading');
                        };
                        xhr.onerror = () => {
                            isLoading = false;
                            showMoreBtn.classList.remove('loading');
                        };
                        xhr.send();
                    }

                    // ç»‘å®š"åŠ è½½æ›´å¤š"æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶
                    showMoreBtn.addEventListener('click', () => {
                        loadCourses();
                    });

                    // ç»‘å®šåˆ†ç±»æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶
                    const categoryButtons = document.querySelectorAll('.chip');
                    categoryButtons.forEach((button) => {
                        button.addEventListener('click', (event) => {
                            event.preventDefault();
                            const categoryCode = button.dataset.code;
                            getCoursesByCategory(categoryCode, button);
                        });
                    });

                    // åˆå§‹åŒ–ï¼ŒåŠ è½½å…¨éƒ¨è¯¾ç¨‹
                    getCoursesByCategory('');

                </script>
            </div>



            </div>
        </section>
        </section>
    </main>

    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section" id="about">
                <h3>å¿«ç‚¹è¯¾ç¨‹</h3>
                <p>å‘ç°ä¼˜è´¨åœ¨çº¿æ•™è‚²èµ„æºï¼Œè®©å­¦ä¹ æ›´ç®€å•</p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; <span id="currentYear"></span> å¿«ç‚¹è¯¾ç¨‹. è¯¾ç¨‹æ¥è‡ª<a href="https://wmooc.icourses.cn/" target="_blank"
                    rel="noopener">çˆ±è¯¾ç¨‹</a></p>
        </div>
    </footer>

    <button class="back-to-top" onclick="scrollToTop()" id="backToTop">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M12 19V5M5 12l7-7 7 7" />
        </svg>
    </button>

    <script>
        // è‡ªåŠ¨æ›´æ–°å¹´ä»½
        document.getElementById('currentYear').textContent = new Date().getFullYear();

        // è¿”å›é¡¶éƒ¨åŠŸèƒ½
        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }

        // æ˜¾ç¤º/éšè—è¿”å›é¡¶éƒ¨æŒ‰é’®
        window.addEventListener('scroll', function () {
            const backToTopBtn = document.getElementById('backToTop');
            if (window.pageYOffset > 300) {
                backToTopBtn.classList.add('visible');
            } else {
                backToTopBtn.classList.remove('visible');
            }
        });

        // å¹³æ»‘æ»šåŠ¨åˆ°é”šç‚¹
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
    </script>
</body>

</html>